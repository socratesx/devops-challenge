{
  "version": 4,
  "terraform_version": "1.3.7",
  "serial": 70,
  "lineage": "d1592db8-415d-9604-2d17-034a3f65d958",
  "outputs": {
    "app1": {
      "value": "https://app1-rnjuzlnrvq-ey.a.run.app",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "managed",
      "type": "google_project_service",
      "name": "api",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "index_key": "artifactregistry.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "esl-efg/artifactregistry.googleapis.com",
            "project": "esl-efg",
            "service": "artifactregistry.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "cloudresourcemanager.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "esl-efg/cloudresourcemanager.googleapis.com",
            "project": "esl-efg",
            "service": "cloudresourcemanager.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "compute.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "esl-efg/compute.googleapis.com",
            "project": "esl-efg",
            "service": "compute.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "run.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "esl-efg/run.googleapis.com",
            "project": "esl-efg",
            "service": "run.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "secretmanager.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "esl-efg/secretmanager.googleapis.com",
            "project": "esl-efg",
            "service": "secretmanager.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "vpcaccess.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "esl-efg/vpcaccess.googleapis.com",
            "project": "esl-efg",
            "service": "vpcaccess.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "module": "module.app1",
      "mode": "managed",
      "type": "google_cloud_run_v2_service",
      "name": "service",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "annotations": null,
            "binary_authorization": [],
            "client": "",
            "client_version": "",
            "conditions": [
              {
                "execution_reason": "",
                "last_transition_time": "2023-05-03T11:42:22.085385Z",
                "message": "",
                "reason": "",
                "revision_reason": "",
                "severity": "",
                "state": "CONDITION_SUCCEEDED",
                "type": "RoutesReady"
              },
              {
                "execution_reason": "",
                "last_transition_time": "2023-05-03T11:42:21.880811Z",
                "message": "",
                "reason": "",
                "revision_reason": "",
                "severity": "",
                "state": "CONDITION_SUCCEEDED",
                "type": "ConfigurationsReady"
              }
            ],
            "description": "",
            "etag": "\"CJKRyaIGEMjw-mE/cHJvamVjdHMvZXNsLWVmZy9sb2NhdGlvbnMvZXVyb3BlLXdlc3QzL3NlcnZpY2VzL2FwcDE\"",
            "generation": "1",
            "id": "projects/esl-efg/locations/europe-west3/services/app1",
            "ingress": "INGRESS_TRAFFIC_ALL",
            "labels": null,
            "latest_created_revision": "projects/esl-efg/locations/europe-west3/services/app1/revisions/app1-latest",
            "latest_ready_revision": "projects/esl-efg/locations/europe-west3/services/app1/revisions/app1-latest",
            "launch_stage": "GA",
            "location": "europe-west3",
            "name": "app1",
            "observed_generation": "1",
            "project": "esl-efg",
            "reconciling": false,
            "template": [
              {
                "annotations": null,
                "containers": [
                  {
                    "args": null,
                    "command": null,
                    "env": [
                      {
                        "name": "POSTGRESQL_HOST",
                        "value": "10.96.0.2",
                        "value_source": []
                      },
                      {
                        "name": "POSTGRESQL_PORT",
                        "value": "5432",
                        "value_source": []
                      },
                      {
                        "name": "POSTGRESQL_USER",
                        "value": "postgres",
                        "value_source": []
                      },
                      {
                        "name": "POSTGRESQL_DBNAME",
                        "value": "postgres",
                        "value_source": []
                      },
                      {
                        "name": "POSTGRESQL_PASSWORD",
                        "value": "",
                        "value_source": [
                          {
                            "secret_key_ref": [
                              {
                                "secret": "db_password",
                                "version": "latest"
                              }
                            ]
                          }
                        ]
                      }
                    ],
                    "image": "europe-west3-docker.pkg.dev/esl-efg/db-health-checker/db-health-checker:latest",
                    "liveness_probe": [
                      {
                        "failure_threshold": 3,
                        "grpc": [],
                        "http_get": [
                          {
                            "http_headers": [],
                            "path": "/health"
                          }
                        ],
                        "initial_delay_seconds": 20,
                        "period_seconds": 10,
                        "tcp_socket": [],
                        "timeout_seconds": 1
                      }
                    ],
                    "name": "",
                    "ports": [
                      {
                        "container_port": 8080,
                        "name": "http1"
                      }
                    ],
                    "resources": [
                      {
                        "cpu_idle": true,
                        "limits": {
                          "cpu": "1000m",
                          "memory": "512Mi"
                        }
                      }
                    ],
                    "startup_probe": [
                      {
                        "failure_threshold": 1,
                        "grpc": [],
                        "http_get": [],
                        "initial_delay_seconds": 0,
                        "period_seconds": 240,
                        "tcp_socket": [
                          {
                            "port": 8080
                          }
                        ],
                        "timeout_seconds": 240
                      }
                    ],
                    "volume_mounts": [],
                    "working_dir": ""
                  }
                ],
                "encryption_key": "",
                "execution_environment": "",
                "labels": null,
                "max_instance_request_concurrency": 80,
                "revision": "app1-latest",
                "scaling": [
                  {
                    "max_instance_count": 4,
                    "min_instance_count": 2
                  }
                ],
                "service_account": "458217262457-compute@developer.gserviceaccount.com",
                "timeout": "300s",
                "volumes": [],
                "vpc_access": [
                  {
                    "connector": "projects/esl-efg/locations/europe-west3/connectors/serverless-vpc-connector",
                    "egress": "ALL_TRAFFIC"
                  }
                ]
              }
            ],
            "terminal_condition": [
              {
                "execution_reason": "",
                "last_transition_time": "2023-05-03T11:42:22.085385Z",
                "message": "",
                "reason": "",
                "revision_reason": "",
                "severity": "",
                "state": "CONDITION_SUCCEEDED",
                "type": "Ready"
              }
            ],
            "timeouts": null,
            "traffic": [
              {
                "percent": 100,
                "revision": "",
                "tag": "",
                "type": "TRAFFIC_TARGET_ALLOCATION_TYPE_LATEST"
              }
            ],
            "traffic_statuses": [
              {
                "percent": 100,
                "revision": "",
                "tag": "",
                "type": "TRAFFIC_TARGET_ALLOCATION_TYPE_LATEST",
                "uri": ""
              }
            ],
            "uid": "8edbb2f2-2b7a-46c5-995b-1b6f2b9a0468",
            "uri": "https://app1-rnjuzlnrvq-ey.a.run.app"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.app_image.data.google_project.current",
            "module.application_network.google_compute_network.main",
            "module.application_network.google_compute_subnetwork.application",
            "module.application_network.google_compute_subnetwork.serverless_access",
            "module.application_network.google_vpc_access_connector.connector",
            "module.database.data.google_compute_zones.zones",
            "module.database.google_compute_instance.vm",
            "module.database.module.gce-container.data.google_compute_image.coreos",
            "module.database.random_integer.zone_index",
            "module.db_secret.google_secret_manager_secret.secret",
            "module.db_secret.google_secret_manager_secret_version.secret-version-data",
            "module.db_secret.random_password.password"
          ]
        }
      ]
    },
    {
      "module": "module.app_image",
      "mode": "data",
      "type": "google_project",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_create_network": null,
            "billing_account": null,
            "folder_id": null,
            "id": "projects/esl-efg",
            "labels": {},
            "name": "ESL-EFG",
            "number": "458217262457",
            "org_id": null,
            "project_id": "esl-efg",
            "skip_delete": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.app_image",
      "mode": "managed",
      "type": "google_artifact_registry_repository",
      "name": "app_repo",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "create_time": "2023-05-03T11:40:07.215147Z",
            "description": "db-health-checker is managed by terraform",
            "docker_config": [
              {
                "immutable_tags": true
              }
            ],
            "format": "DOCKER",
            "id": "projects/esl-efg/locations/europe-west3/repositories/db-health-checker",
            "kms_key_name": "",
            "labels": null,
            "location": "europe-west3",
            "maven_config": [],
            "mode": "STANDARD_REPOSITORY",
            "name": "db-health-checker",
            "project": "esl-efg",
            "remote_repository_config": [],
            "repository_id": "db-health-checker",
            "timeouts": null,
            "update_time": "2023-05-03T11:40:07.215147Z",
            "virtual_repository_config": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "module": "module.app_image",
      "mode": "managed",
      "type": "null_resource",
      "name": "image_push",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "4733227095443218757",
            "triggers": {
              "file_checksums": "b9fd90f3411425ce5de6908d95b01f53,d4614c6f0ee0db7b227e0987c2f12f4e,6ec80d9ea2b812a8b0762ec8e11bfac1,05145d4b3ef9c584b7e66a237cefb1ca,293db376cd16bb9a8e7b6371cde793ff",
              "registry_id": "projects/esl-efg/locations/europe-west3/repositories/db-health-checker"
            }
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.app_image.data.google_project.current",
            "module.app_image.google_artifact_registry_repository.app_repo"
          ]
        }
      ]
    },
    {
      "module": "module.application_network",
      "mode": "managed",
      "type": "google_compute_network",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_create_subnetworks": false,
            "delete_default_routes_on_create": false,
            "description": "",
            "enable_ula_internal_ipv6": false,
            "gateway_ipv4": "",
            "id": "projects/esl-efg/global/networks/net1",
            "internal_ipv6_range": "",
            "mtu": 0,
            "name": "net1",
            "network_firewall_policy_enforcement_order": "AFTER_CLASSIC_FIREWALL",
            "project": "esl-efg",
            "routing_mode": "REGIONAL",
            "self_link": "https://www.googleapis.com/compute/v1/projects/esl-efg/global/networks/net1",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "module": "module.application_network",
      "mode": "managed",
      "type": "google_compute_subnetwork",
      "name": "application",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "creation_timestamp": "2023-05-03T04:40:19.268-07:00",
            "description": "",
            "external_ipv6_prefix": "",
            "fingerprint": null,
            "gateway_address": "10.96.0.1",
            "id": "projects/esl-efg/regions/europe-west3/subnetworks/app-subnet",
            "ip_cidr_range": "10.96.0.0/20",
            "ipv6_access_type": "",
            "ipv6_cidr_range": "",
            "log_config": [],
            "name": "app-subnet",
            "network": "https://www.googleapis.com/compute/v1/projects/esl-efg/global/networks/net1",
            "private_ip_google_access": true,
            "private_ipv6_google_access": "DISABLE_GOOGLE_ACCESS",
            "project": "esl-efg",
            "purpose": "PRIVATE",
            "region": "europe-west3",
            "role": "",
            "secondary_ip_range": [],
            "self_link": "https://www.googleapis.com/compute/v1/projects/esl-efg/regions/europe-west3/subnetworks/app-subnet",
            "stack_type": "IPV4_ONLY",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.application_network.google_compute_network.main"
          ]
        }
      ]
    },
    {
      "module": "module.application_network",
      "mode": "managed",
      "type": "google_compute_subnetwork",
      "name": "serverless_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "creation_timestamp": "2023-05-03T04:40:20.373-07:00",
            "description": "",
            "external_ipv6_prefix": "",
            "fingerprint": null,
            "gateway_address": "10.8.0.1",
            "id": "projects/esl-efg/regions/europe-west3/subnetworks/connect-subnet",
            "ip_cidr_range": "10.8.0.0/28",
            "ipv6_access_type": "",
            "ipv6_cidr_range": "",
            "log_config": [],
            "name": "connect-subnet",
            "network": "https://www.googleapis.com/compute/v1/projects/esl-efg/global/networks/net1",
            "private_ip_google_access": true,
            "private_ipv6_google_access": "DISABLE_GOOGLE_ACCESS",
            "project": "esl-efg",
            "purpose": "PRIVATE",
            "region": "europe-west3",
            "role": "",
            "secondary_ip_range": [],
            "self_link": "https://www.googleapis.com/compute/v1/projects/esl-efg/regions/europe-west3/subnetworks/connect-subnet",
            "stack_type": "IPV4_ONLY",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.application_network.google_compute_network.main"
          ]
        }
      ]
    },
    {
      "module": "module.application_network",
      "mode": "managed",
      "type": "google_vpc_access_connector",
      "name": "connector",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "projects/esl-efg/locations/europe-west3/connectors/serverless-vpc-connector",
            "ip_cidr_range": "",
            "machine_type": "e2-micro",
            "max_instances": 3,
            "max_throughput": 300,
            "min_instances": 2,
            "min_throughput": 200,
            "name": "serverless-vpc-connector",
            "network": "",
            "project": "esl-efg",
            "region": "europe-west3",
            "self_link": "projects/esl-efg/locations/europe-west3/connectors/serverless-vpc-connector",
            "state": "READY",
            "subnet": [
              {
                "name": "connect-subnet",
                "project_id": "esl-efg"
              }
            ],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.application_network.google_compute_network.main",
            "module.application_network.google_compute_subnetwork.serverless_access"
          ]
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "data",
      "type": "google_compute_subnetwork",
      "name": "subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "gateway_address": "10.96.0.1",
            "id": "projects/esl-efg/regions/europe-west3/subnetworks/app-subnet",
            "ip_cidr_range": "10.96.0.0/20",
            "name": "app-subnet",
            "network": "https://www.googleapis.com/compute/v1/projects/esl-efg/global/networks/net1",
            "private_ip_google_access": true,
            "project": "esl-efg",
            "region": "europe-west3",
            "secondary_ip_range": [],
            "self_link": "https://www.googleapis.com/compute/v1/projects/esl-efg/regions/europe-west3/subnetworks/app-subnet"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "data",
      "type": "google_compute_zones",
      "name": "zones",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "projects/esl-efg/regions/europe-west3",
            "names": [
              "europe-west3-a",
              "europe-west3-b",
              "europe-west3-c"
            ],
            "project": "esl-efg",
            "region": "europe-west3",
            "status": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "google_compute_firewall",
      "name": "allow-local-network",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "allow": [
              {
                "ports": [
                  "5432"
                ],
                "protocol": "tcp"
              }
            ],
            "creation_timestamp": "2023-05-03T04:40:53.825-07:00",
            "deny": [],
            "description": "",
            "destination_ranges": [],
            "direction": "INGRESS",
            "disabled": false,
            "enable_logging": null,
            "id": "projects/esl-efg/global/firewalls/database-allow-internal-access",
            "log_config": [],
            "name": "database-allow-internal-access",
            "network": "https://www.googleapis.com/compute/v1/projects/esl-efg/global/networks/net1",
            "priority": 1000,
            "project": "esl-efg",
            "self_link": "https://www.googleapis.com/compute/v1/projects/esl-efg/global/firewalls/database-allow-internal-access",
            "source_ranges": [
              "10.96.0.0/20"
            ],
            "source_service_accounts": null,
            "source_tags": null,
            "target_service_accounts": null,
            "target_tags": [
              "database"
            ],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.application_network.google_compute_network.main",
            "module.application_network.google_compute_subnetwork.application",
            "module.database.data.google_compute_subnetwork.subnet",
            "module.database.data.google_compute_zones.zones",
            "module.database.google_compute_instance.vm",
            "module.database.module.gce-container.data.google_compute_image.coreos",
            "module.database.random_integer.zone_index",
            "module.db_secret.google_secret_manager_secret.secret",
            "module.db_secret.google_secret_manager_secret_version.secret-version-data",
            "module.db_secret.random_password.password"
          ]
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "google_compute_instance",
      "name": "vm",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 6,
          "attributes": {
            "advanced_machine_features": [],
            "allow_stopping_for_update": null,
            "attached_disk": [],
            "boot_disk": [
              {
                "auto_delete": true,
                "device_name": "persistent-disk-0",
                "disk_encryption_key_raw": "",
                "disk_encryption_key_sha256": "",
                "initialize_params": [
                  {
                    "image": "https://www.googleapis.com/compute/v1/projects/cos-cloud/global/images/cos-stable-105-17412-1-75",
                    "labels": {},
                    "size": 10,
                    "type": "pd-standard"
                  }
                ],
                "kms_key_self_link": "",
                "mode": "READ_WRITE",
                "source": "https://www.googleapis.com/compute/v1/projects/esl-efg/zones/europe-west3-b/disks/database"
              }
            ],
            "can_ip_forward": false,
            "confidential_instance_config": [],
            "cpu_platform": "Intel Broadwell",
            "current_status": "RUNNING",
            "deletion_protection": false,
            "description": "",
            "desired_status": null,
            "enable_display": false,
            "guest_accelerator": [],
            "hostname": "",
            "id": "projects/esl-efg/zones/europe-west3-b/instances/database",
            "instance_id": "5767685566023857878",
            "label_fingerprint": "4d1vg9QlzG8=",
            "labels": {
              "container-vm": "cos-stable-105-17412-1-75"
            },
            "machine_type": "e2-micro",
            "metadata": {
              "gce-container-declaration": "\"spec\":\n  \"containers\":\n  - \"env\":\n    - \"name\": \"POSTGRES_PASSWORD\"\n      \"value\": \"cJ{wr=kzF[]Gm(yp\"\n    \"image\": \"postgres:13-alpine\"\n    \"restart_policy\": \"always\"\n    \"volumeMounts\": []\n    \"volumes\": []\n  \"restartPolicy\": \"OnFailure\"\n  \"volumes\": []\n",
              "google-logging-enabled": "false",
              "google-monitoring-enabled": "true"
            },
            "metadata_fingerprint": "EbMuaFJ5T6U=",
            "metadata_startup_script": null,
            "min_cpu_platform": "",
            "name": "database",
            "network_interface": [
              {
                "access_config": [
                  {
                    "nat_ip": "35.246.180.45",
                    "network_tier": "PREMIUM",
                    "public_ptr_domain_name": ""
                  }
                ],
                "alias_ip_range": [],
                "ipv6_access_config": [],
                "ipv6_access_type": "",
                "name": "nic0",
                "network": "https://www.googleapis.com/compute/v1/projects/esl-efg/global/networks/net1",
                "network_ip": "10.96.0.2",
                "nic_type": "",
                "queue_count": 0,
                "stack_type": "IPV4_ONLY",
                "subnetwork": "https://www.googleapis.com/compute/v1/projects/esl-efg/regions/europe-west3/subnetworks/app-subnet",
                "subnetwork_project": "esl-efg"
              }
            ],
            "project": "esl-efg",
            "reservation_affinity": [],
            "resource_policies": null,
            "scheduling": [
              {
                "automatic_restart": true,
                "instance_termination_action": "",
                "min_node_cpus": 0,
                "node_affinities": [],
                "on_host_maintenance": "MIGRATE",
                "preemptible": false,
                "provisioning_model": "STANDARD"
              }
            ],
            "scratch_disk": [],
            "self_link": "https://www.googleapis.com/compute/v1/projects/esl-efg/zones/europe-west3-b/instances/database",
            "service_account": [],
            "shielded_instance_config": [
              {
                "enable_integrity_monitoring": true,
                "enable_secure_boot": false,
                "enable_vtpm": true
              }
            ],
            "tags": [
              "database"
            ],
            "tags_fingerprint": "w2VJJusIj3s=",
            "timeouts": null,
            "zone": "europe-west3-b"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "metadata"
              },
              {
                "type": "index",
                "value": {
                  "value": "gce-container-declaration",
                  "type": "string"
                }
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiNiJ9",
          "dependencies": [
            "module.application_network.google_compute_network.main",
            "module.application_network.google_compute_subnetwork.application",
            "module.database.data.google_compute_zones.zones",
            "module.database.module.gce-container.data.google_compute_image.coreos",
            "module.database.random_integer.zone_index",
            "module.db_secret.google_secret_manager_secret.secret",
            "module.db_secret.google_secret_manager_secret_version.secret-version-data",
            "module.db_secret.random_password.password"
          ]
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "random_integer",
      "name": "zone_index",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1",
            "keepers": null,
            "max": 2,
            "min": 0,
            "result": 1,
            "seed": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.database.data.google_compute_zones.zones"
          ]
        }
      ]
    },
    {
      "module": "module.database.module.gce-container",
      "mode": "data",
      "type": "google_compute_image",
      "name": "coreos",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "archive_size_bytes": 1532149248,
            "creation_timestamp": "2023-05-01T16:27:44.893-07:00",
            "description": "Google, Container-Optimized OS, 105-17412.1.75 stable, Kernel: COS-5.15.90 Kubernetes: 1.25.5 Docker: 23.0.0 Family: cos-stable, supports Shielded VM features",
            "disk_size_gb": 10,
            "family": "cos-stable",
            "filter": null,
            "id": "projects/cos-cloud/global/images/cos-stable-105-17412-1-75",
            "image_encryption_key_sha256": "",
            "image_id": "3323115400912040960",
            "label_fingerprint": "GIFnKKDpoaA=",
            "labels": {
              "build_number": "17412-1-75",
              "milestone": "105"
            },
            "licenses": [
              "https://www.googleapis.com/compute/v1/projects/cos-cloud/global/licenses/cos",
              "https://www.googleapis.com/compute/v1/projects/cos-cloud-shielded/global/licenses/shielded-cos",
              "https://www.googleapis.com/compute/v1/projects/cos-cloud/global/licenses/cos-pcid"
            ],
            "name": "cos-stable-105-17412-1-75",
            "project": "cos-cloud",
            "self_link": "https://www.googleapis.com/compute/v1/projects/cos-cloud/global/images/cos-stable-105-17412-1-75",
            "source_disk": "",
            "source_disk_encryption_key_sha256": "",
            "source_disk_id": "",
            "source_image_id": "",
            "status": "READY"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.db_secret",
      "mode": "data",
      "type": "google_project",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_create_network": null,
            "billing_account": null,
            "folder_id": null,
            "id": "projects/esl-efg",
            "labels": {},
            "name": "ESL-EFG",
            "number": "458217262457",
            "org_id": null,
            "project_id": "esl-efg",
            "skip_delete": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.db_secret",
      "mode": "managed",
      "type": "google_secret_manager_secret",
      "name": "secret",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "create_time": "2023-05-03T11:40:07.267990Z",
            "expire_time": "",
            "id": "projects/esl-efg/secrets/db_password",
            "labels": null,
            "name": "projects/458217262457/secrets/db_password",
            "project": "esl-efg",
            "replication": [
              {
                "automatic": true,
                "user_managed": []
              }
            ],
            "rotation": [],
            "secret_id": "db_password",
            "timeouts": null,
            "topics": [],
            "ttl": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "module": "module.db_secret",
      "mode": "managed",
      "type": "google_secret_manager_secret_iam_member",
      "name": "secret-access",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwX6yISVBbI=",
            "id": "projects/esl-efg/secrets/db_password/roles/secretmanager.secretAccessor/serviceAccount:458217262457-compute@developer.gserviceaccount.com",
            "member": "serviceAccount:458217262457-compute@developer.gserviceaccount.com",
            "project": "esl-efg",
            "role": "roles/secretmanager.secretAccessor",
            "secret_id": "projects/esl-efg/secrets/db_password"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.db_secret.data.google_project.current",
            "module.db_secret.google_secret_manager_secret.secret"
          ]
        }
      ]
    },
    {
      "module": "module.db_secret",
      "mode": "managed",
      "type": "google_secret_manager_secret_version",
      "name": "secret-version-data",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "create_time": "2023-05-03T11:40:09.154284Z",
            "destroy_time": "",
            "enabled": true,
            "id": "projects/458217262457/secrets/db_password/versions/1",
            "name": "projects/458217262457/secrets/db_password/versions/1",
            "secret": "projects/458217262457/secrets/db_password",
            "secret_data": "cJ{wr=kzF[]Gm(yp",
            "timeouts": null,
            "version": "1"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "secret_data"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.db_secret.google_secret_manager_secret.secret",
            "module.db_secret.random_password.password"
          ]
        }
      ]
    },
    {
      "module": "module.db_secret",
      "mode": "managed",
      "type": "random_password",
      "name": "password",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 3,
          "attributes": {
            "bcrypt_hash": "$2a$10$5smxCowbgKZC/Uj3YNxZKuspmn63/YKdAx/Fz731VCTLtlab.HDLu",
            "id": "none",
            "keepers": null,
            "length": 16,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": true,
            "numeric": true,
            "override_special": "!#$%\u0026*()-_=+[]{}\u003c\u003e:?",
            "result": "cJ{wr=kzF[]Gm(yp",
            "special": true,
            "upper": true
          },
          "sensitive_attributes": []
        }
      ]
    }
  ],
  "check_results": null
}
